---
phase: 04.1-github-pages-github-actions-hosting
plan: 02
type: execute
wave: 2
depends_on: ["04.1-01"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Pushing to main triggers the GitHub Actions workflow and the site deploys to GitHub Pages"
    - "The site is accessible at the standard github.io URL with all pages rendering correctly"
    - "Build failures in the Actions workflow are clearly visible in the GitHub Actions tab"
  artifacts: []
  key_links:
    - from: "GitHub repo Settings > Pages"
      to: "GitHub Actions workflow"
      via: "Source set to 'GitHub Actions'"
      pattern: "manual configuration"
---

<objective>
Configure GitHub Pages source in repo settings, push code to trigger deployment, and verify the site is live.

Purpose: The code from Plan 01 is complete but requires one human-only configuration step (setting GitHub Pages source to "GitHub Actions" in repo settings). This plan gates on that action, triggers deployment, and verifies the site works. Formspree account creation is deferred -- the contact form uses a placeholder ID for now.

Output: Working deployment pipeline verified by successful GitHub Actions run and accessible site at github.io URL.
</objective>

<execution_context>
@C:\Users\bernt\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\bernt\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04.1-github-pages-github-actions-hosting/04.1-01-SUMMARY.md
@.github/workflows/deploy.yml
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 1: Configure GitHub Pages source to GitHub Actions</name>
  <action>One manual configuration step is required that has no CLI/API equivalent:</action>
  <instructions>
**Set GitHub Pages source (required for deployment):**
1. Go to the GitHub repository settings
2. Click Settings > Pages
3. Under "Build and deployment" > "Source", select **"GitHub Actions"** from the dropdown
4. Click Save
  </instructions>
  <resume-signal>Confirm GitHub Pages source is set to "GitHub Actions".</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Commit and push to trigger deployment</name>
  <files></files>
  <action>
1. Commit all changes from Plan 01 and push to main to trigger the GitHub Actions deployment:
   - `git add .github/workflows/deploy.yml app/components/contact/Form.vue app/app.config.ts package.json`
   - Commit with appropriate message
   - `git push origin main`
2. Wait for the GitHub Actions workflow to complete (check with `gh run list --limit 1` or `gh run watch`)
3. If the workflow fails, read the logs with `gh run view --log-failed` and diagnose the issue
  </action>
  <verify>
1. `gh run list --limit 1` shows the workflow completed successfully (status: completed, conclusion: success)
2. The site is accessible at the GitHub Pages URL (check `gh api repos/{owner}/{repo}/pages --jq '.html_url'` or the URL from the deployment environment)
  </verify>
  <done>
- Changes pushed to main
- GitHub Actions workflow triggered and completed successfully
- Site deployed to GitHub Pages at github.io URL
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify deployed site</name>
  <what-built>GitHub Pages deployment pipeline with automated builds</what-built>
  <how-to-verify>
1. Visit the GitHub Pages URL (shown in repo Settings > Pages, or from the GitHub Actions deployment output)
2. Verify the homepage loads with correct styling, images, and navigation
3. Click through several pages (Zimmer, Familie, Kontakt) to confirm all routes work
4. Verify HTTPS is working (green lock icon in browser)
5. Check that the 404 page works by visiting a non-existent URL (e.g., /this-does-not-exist/)
6. Note: The contact form UI will display but submissions won't work yet (placeholder Formspree ID -- account creation deferred)
  </how-to-verify>
  <resume-signal>Type "approved" if the site works correctly, or describe any issues you see.</resume-signal>
</task>

</tasks>

<verification>
1. GitHub Actions workflow completes successfully on push to main
2. Site is accessible at github.io URL
3. All pages render correctly with styling and images
4. 404 page works for unknown routes
5. HTTPS is enforced
</verification>

<success_criteria>
- GitHub Pages deployment is live and accessible at standard github.io URL
- All site pages render correctly
- Deployment pipeline is fully automated -- future pushes to main will auto-deploy
- Contact form UI works (submission deferred until Formspree account is created later)
</success_criteria>

<output>
After completion, create `.planning/phases/04.1-github-pages-github-actions-hosting/04.1-02-SUMMARY.md`
</output>
