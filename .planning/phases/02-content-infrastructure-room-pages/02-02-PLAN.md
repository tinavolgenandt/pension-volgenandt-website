---
phase: 02-content-infrastructure-room-pages
plan: 02
type: execute
wave: 2
depends_on: ['02-01']
files_modified:
  - app/components/rooms/Card.vue
  - app/pages/zimmer/index.vue
autonomous: false

must_haves:
  truths:
    - 'Visitor navigating to /zimmer/ sees a grid of all 7 room cards'
    - "Each card shows a photo, room name, key features, starting price with 'ab EUR X / Nacht' including VAT"
    - 'Rooms are grouped by type with section headings (Ferienwohnung, Doppelzimmer, Einzelzimmer)'
    - 'Whole card is clickable and links to /zimmer/[slug]'
    - 'Cards show subtle lift/elevation on hover'
  artifacts:
    - path: 'app/components/rooms/Card.vue'
      provides: 'Reusable room card for overview and Weitere Zimmer'
      min_lines: 30
    - path: 'app/pages/zimmer/index.vue'
      provides: 'Room overview page at /zimmer/'
      contains: 'queryCollection'
  key_links:
    - from: 'app/pages/zimmer/index.vue'
      to: "queryCollection('rooms')"
      via: 'Nuxt Content data query'
      pattern: "queryCollection\\(['\"]rooms['\"]\\)"
    - from: 'app/components/rooms/Card.vue'
      to: '/zimmer/[slug]'
      via: 'NuxtLink'
      pattern: 'NuxtLink.*zimmer'
    - from: 'app/pages/zimmer/index.vue'
      to: 'app/components/rooms/Card.vue'
      via: 'component import'
      pattern: '<RoomsCard'
---

<objective>
Build the room overview page (`/zimmer/`) that displays all 7 rooms as clickable cards in a 2-column grid, grouped by room type with section headings.

Purpose: This is the primary room browsing entry point. Visitors need to see all available rooms at a glance with photos, key features, and prices to decide which room to explore further.
Output: RoomsCard component and room overview page rendering all 7 rooms from Nuxt Content YAML data.
</objective>

<execution_context>
@C:\Users\bernt\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\bernt\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-content-infrastructure-room-pages/02-RESEARCH.md
@.planning/phases/02-content-infrastructure-room-pages/02-CONTEXT.md
@.planning/phases/02-content-infrastructure-room-pages/02-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create RoomCard component and room overview page</name>
  <files>
    app/components/rooms/Card.vue
    app/pages/zimmer/index.vue
  </files>
  <action>
**1. Create `app/components/rooms/Card.vue`**

A clickable card component used in the overview grid and later in "Weitere Zimmer" sections. Receives room data as props and renders as a NuxtLink to `/zimmer/{slug}`.

Props (all required unless noted):

- `name: string`
- `slug: string`
- `shortDescription: string`
- `heroImage: string`
- `heroImageAlt: string`
- `startingPrice: number`
- `maxGuests: number`
- `highlights: string[]`
- `compact: boolean` (optional, default false -- when true, renders a smaller variant for "Weitere Zimmer" usage in Plan 02-03)

Card structure:

- Entire card is a `<NuxtLink :to="/zimmer/${slug}">` -- no separate button
- 4:3 aspect ratio image area using `<NuxtImg>` with `loading="lazy"`, `sizes="sm:100vw md:50vw"`
- Image has `group-hover:scale-105` zoom effect (subtle, 500ms transition)
- Card body: room name as h3, short description (line-clamp-2), key features row (maxGuests + first 2 highlights), starting price
- Price format: `ab {startingPrice} EUR / Nacht inkl. MwSt.` (PAngV compliance, LEGL-07)
- Hover: `hover:shadow-lg hover:-translate-y-1` with 300ms transition
- Use `rounded-xl` for card border radius (or design system token if available)
- Use `overflow-hidden` on the card and image container
- Use design system colors: text-charcoal for headings, text-grey for descriptions, text-sage-600/700 for features

When `compact` is true:

- Smaller image (3:2 aspect ratio)
- No short description
- No highlights row
- Just: image, name, starting price
- Smaller text sizes

**2. Create `app/pages/zimmer/index.vue`**

The room overview page at `/zimmer/`.

Page setup:

- `useHead()` with meta title "Zimmer & Ferienwohnungen | Pension Volgenandt" (under 60 chars) and meta description "Entdecken Sie unsere 7 gemutlichen Zimmer und Ferienwohnungen in Breitenbach im Eichsfeld. Ab 35 EUR pro Nacht inkl. MwSt." (under 155 chars). Use proper umlauts.
- Fetch all rooms: `queryCollection('rooms').order('sortOrder', 'ASC').all()`
- Group rooms by `category` field using a computed property that returns a Map<string, Room[]> preserving insertion order (Ferienwohnungen first based on sortOrder)

Page layout:

- Page heading: "Unsere Zimmer" as h1
- Intro paragraph: 1-2 sentences about the range of accommodations
- For each category group, render:
  - Section heading (h2): the category name (e.g., "Ferienwohnungen", "Doppelzimmer", "Einzelzimmer")
  - 2-column grid of RoomsCard components: `grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8`
  - Each card receives individual room props (spread or explicit)

CONTEXT.md decisions to honor:

- 2-column grid on desktop (larger cards, premium feel)
- Rooms grouped by type with section headings
- Display order within groups from YAML sortOrder
- Whole card clickable, subtle lift on hover

Use `<NuxtLink>` in cards to ensure crawlLinks discovers all room detail pages for SSG prerendering.
</action>
<verify>
Run `pnpm dev` and navigate to `http://localhost:3000/zimmer/` in the browser.

Verify:

1. Page renders without errors
2. All 7 rooms are displayed as cards
3. Rooms are grouped under section headings (Ferienwohnung, Doppelzimmer, Einzelzimmer)
4. Each card shows: image placeholder area, room name, short description, guest count, highlights, and price with "inkl. MwSt."
5. Clicking a card navigates to `/zimmer/{slug}` (may show 404 until Plan 02-03 builds the detail page -- that is expected)
6. Cards have hover lift effect

Run `pnpm typecheck` to confirm no TypeScript errors.
</verify>
<done>
Room overview page at `/zimmer/` renders all 7 rooms from YAML data in a 2-column grid, grouped by category with section headings. Each card is clickable and shows name, photo area, features, and "ab X EUR / Nacht inkl. MwSt." pricing. `pnpm typecheck` passes.
</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Room overview page at `/zimmer/` with 7 room cards in a 2-column grid, grouped by room type. Cards show room photo, name, description, key features, and starting price with VAT notice.
  </what-built>
  <how-to-verify>
1. Open `http://localhost:3000/zimmer/` in your browser
2. Verify you see section headings for room types (Ferienwohnung, Doppelzimmer, Einzelzimmer)
3. Verify 7 room cards are displayed (3 Ferienwohnungen, 3 Doppelzimmer, 1 Einzelzimmer)
4. Verify each card shows: room name, short description, guest count, and price with "inkl. MwSt."
5. Hover over a card -- it should lift slightly with a shadow increase
6. Click a card -- it should try to navigate to `/zimmer/{slug}` (404 is expected at this stage)
7. Check mobile view (narrow browser) -- cards should stack to single column
8. Confirm the overall look feels clean and premium (not cramped or cluttered)
  </how-to-verify>
  <resume-signal>Type "approved" or describe any visual/layout issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `http://localhost:3000/zimmer/` renders without errors
2. 7 room cards visible, grouped by 3 category sections
3. Each card shows photo, name, description, features, price with "inkl. MwSt."
4. Cards are clickable NuxtLinks to `/zimmer/[slug]`
5. 2-column grid on desktop, 1-column on mobile
6. Hover effect works (lift + shadow)
7. `pnpm typecheck` passes
</verification>

<success_criteria>

- Room overview page at `/zimmer/` displays all 7 rooms from YAML data
- Cards are grouped by room type with section headings
- Each card shows starting price with PAngV-compliant format (EUR / Nacht inkl. MwSt.)
- Cards are clickable NuxtLinks to room detail pages
- 2-column responsive grid with hover effects
- User has visually approved the layout
  </success_criteria>

<output>
After completion, create `.planning/phases/02-content-infrastructure-room-pages/02-02-SUMMARY.md`
</output>
